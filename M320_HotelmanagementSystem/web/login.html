<!DOCTYPE html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <h1>Login Zimmer Manager</h1>
        <label for="username">Username:</label>
        <input type="text" name="username" id="username" />
        <br />
        <label for="password">Password:</label>
        <input type="password" name="password" id="password" />
        <br />
        <input type="submit" value="Regristrieren"  onclick="bestatigen()"/>
        <input type="submit" value="Login"  onclick="Login()"/>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script>
    function bestatigen()
    {
        var userName = document.getElementById("username").value;
        var passWord = document.getElementById("password").value;
        alert("Username: " + userName + " , Passwort " + passWord);
var data = {

    User_Id: 0,
    User_Name: userName,
    passWort: passWord,
}
console.log(data);
fetch('api/user' , {
    method: 'Post',
    headers: {
        'Content-Type': 'application/json'
    }, 
    body: JSON.stringify(data)
}) 

.then(result => {
    console.log('POST-Antwort:', result);

})
.catch(error => {
    console.error('Fehler beim POST:', error);
});
    }

function Login()
{
    var userName = document.getElementById("username").value;
        var passWord = document.getElementById("password").value;
        var url = ` api/user?userName=${encodeURIComponent(userName)}&password=${encodeURIComponent(passWord)} `;
        fetch(url , 
        {
        method: 'Get',
         } )
         
         .then(result => {
            window.location.href = "/viewRooms";
console.log('Get-Antwort:', result );

         })
         .catch(error =>{

            console.error('Fehler beim Get:', error);
         });
}



</script>
</html>